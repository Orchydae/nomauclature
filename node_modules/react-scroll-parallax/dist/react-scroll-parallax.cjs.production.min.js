"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("parallax-controller"),r=require("react"),n=(e=r)&&"object"==typeof e&&"default"in e?e.default:e;function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)t.indexOf(r=l[n])>=0||(a[r]=e[r]);return a}var o=["disabled","easing","endScroll","onChange","onEnter","onExit","onProgressChange","opacity","rootMargin","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","shouldAlwaysCompleteAnimation","shouldDisableScalingTranslations","speed","startScroll","targetElement","translateX","translateY"];function s(e){var t,r=e.disabled,n=e.easing,a=e.endScroll,s=e.onChange,i=e.onEnter,u=e.onExit,c=e.onProgressChange,d=e.opacity,f=e.rootMargin,p=e.rotate,g=e.rotateX,x=e.rotateY,h=e.rotateZ,v=e.scale,m=e.scaleX,b=e.scaleY,E=e.scaleZ,y=e.shouldAlwaysCompleteAnimation,P=e.shouldDisableScalingTranslations,C=e.speed,w=e.startScroll,S=e.targetElement,Y=e.translateX,A=e.translateY,M=l(e,o);return{parallaxProps:(t={disabled:r,easing:n,endScroll:a,onChange:s,onEnter:i,onExit:u,onProgressChange:c,opacity:d,rootMargin:f,rotate:p,rotateX:g,rotateY:x,rotateZ:h,scale:v,scaleX:m,scaleY:b,scaleZ:E,shouldAlwaysCompleteAnimation:y,shouldDisableScalingTranslations:P,speed:C,startScroll:w,targetElement:S,translateX:Y,translateY:A},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),t),rest:M}}var i=n.createContext(null);function u(){var e=r.useContext(i);if("undefined"==typeof window)return null;if(!e)throw new Error("Could not find `react-scroll-parallax` context value. Please ensure the component is wrapped in a <ParallaxProvider>");return e}function c(e){var n=u(),a=r.useRef(null),l=s(e).parallaxProps;!function(e){r.useEffect((function(){if(!("undefined"==typeof window||e||e instanceof t.ParallaxController))throw new Error("Must wrap your application's <Parallax /> components in a <ParallaxProvider />.")}),[e])}(n);var o=r.useState(),i=o[0],c=o[1];return r.useEffect((function(){var e;if(!(a.current instanceof HTMLElement))throw new Error("You must assign the ref returned by the useParallax() hook to an HTML Element.");return e=null==n?void 0:n.createElement({el:a.current,props:l}),c(e),function(){e&&(null==n||n.removeElementById(e.id))}}),[]),r.useEffect((function(){i&&(e.disabled?(null==n||n.resetElementStyles(i),null==n||n.updateElementPropsById(i.id,l)):null==n||n.updateElementPropsById(i.id,l))}),[e.disabled,e.easing,e.endScroll,e.onChange,e.onEnter,e.onExit,e.onProgressChange,e.opacity,e.rootMargin,e.rotate,e.rotateX,e.rotateY,e.rotateZ,e.scale,e.scaleX,e.scaleY,e.scaleZ,e.shouldAlwaysCompleteAnimation,e.shouldDisableScalingTranslations,e.speed,e.startScroll,e.targetElement,e.translateX,e.translateY]),{ref:a,controller:n,element:i}}var d={height:0},f=["children","disabled","style","expanded","image","testId"],p={position:"absolute",top:0,left:0,right:0,bottom:0},g=function(e){var r,o=s(e),i=o.parallaxProps,u=o.rest,g=u.style,x=u.expanded,h=void 0===x||x,v=u.testId,m=l(u,f),b=(r=e).image?{backgroundImage:"url("+r.image+")",backgroundPosition:"center",backgroundSize:"cover"}:{},E=h?function(e){if(Array.isArray(e.translateY)){var r=t.parseValueAndUnit(e.translateY[0]),n=t.parseValueAndUnit(e.translateY[1]);if("px"===r.unit&&"px"===n.unit)return{top:-1*Math.abs(n.value)+"px",bottom:-1*Math.abs(r.value)+"px"};if("%"===r.unit&&"%"===n.unit){var a,l,o=null!=(a=null==(l=e.targetElement)?void 0:l.getBoundingClientRect())?a:d;return{top:-1*Math.abs(.01*o.height*n.value)+"px",bottom:-1*Math.abs(.01*o.height*r.value)+"px"}}}if(e.speed){var s=10*Math.abs(e.speed||0)*-1;return{top:s+"px",bottom:s+"px"}}return{}}(e):{},y=c(a({targetElement:e.targetElement,shouldDisableScalingTranslations:!0},i));return n.createElement("div",Object.assign({"data-testid":v,ref:y.ref,style:a({},b,p,E,g)},m),u.children)},x=["disabled","style","layers"],h={position:"relative",overflow:"hidden",width:"100%"};Object.defineProperty(exports,"EasingPreset",{enumerable:!0,get:function(){return t.EasingPreset}}),exports.Parallax=function(e){var t=s(e),r=t.rest,a=c(t.parallaxProps);return n.createElement("div",Object.assign({ref:a.ref},r),e.children)},exports.ParallaxBanner=function(e){var t=r.useState(null),o=t[0],s=t[1],i=r.useRef(null);r.useEffect((function(){s(i.current)}),[]);var u=e.style,c=e.layers,d=void 0===c?[]:c,f=l(e,x);return n.createElement("div",Object.assign({ref:i,style:a({},h,u)},f),o&&d&&d.length>0?d.map((function(e,t){return n.createElement(g,Object.assign({},e,{targetElement:o,key:"layer-"+t,testId:"layer-"+t}))})):null,o?n.Children.map(e.children,(function(e){return(null==e?void 0:e.type)===g?n.cloneElement(e,{targetElement:o}):e})):null)},exports.ParallaxBannerLayer=g,exports.ParallaxContext=i,exports.ParallaxProvider=function(e){var a=r.useRef(null);return a.current||(a.current="undefined"==typeof window?null:t.ParallaxController.init({scrollAxis:e.scrollAxis||t.ScrollAxis.vertical,scrollContainer:e.scrollContainer,disabled:e.isDisabled})),r.useEffect((function(){e.scrollContainer&&a.current&&a.current.updateScrollContainer(e.scrollContainer)}),[e.scrollContainer,a.current]),r.useEffect((function(){e.isDisabled&&a.current&&a.current.disableParallaxController(),!e.isDisabled&&a.current&&a.current.enableParallaxController()}),[e.isDisabled,a.current]),r.useEffect((function(){return function(){(null==a?void 0:a.current)&&(null==a||a.current.destroy())}}),[]),n.createElement(i.Provider,{value:a.current},e.children)},exports.useParallax=c,exports.useParallaxController=u;
//# sourceMappingURL=react-scroll-parallax.cjs.production.min.js.map
